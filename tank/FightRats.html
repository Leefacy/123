<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Fight rats</title>
		<link rel="stylesheet" type="text/css" href="bootstrap.css">
		<style>
		  .ratswarp{
		    width: 50px;
		    height:50px;
		    background-color:#F5F5F5;
		    float:left;
		    border: 1px solid #785;
		  }
		  .seled{
		    background-color:red;
		  }
		  .shoed{
		    background-color:blue;
		  }
		  .clear{
		    clear:both;
		  }
		</style>
	</head>
	<body>
		<div class="container">
	    <div id="score"> 0 </div>
	    <div class="ratswarp">
	      <div class="rats">1</div>
	    </div>
	    <div class="ratswarp">
	      <div class="rats">2</div>
	    </div>
	    <div class="ratswarp">
	      <div class="rats">3</div>
	    </div>
	    
	    <div class="clear"></div>
	    
	    <div class="ratswarp">
	      <div class="rats">4</div>
	    </div>
	    <div class="ratswarp">
	      <div class="rats">5</div>
	    </div>
	    <div class="ratswarp">
	      <div class="rats">6</div>
	    </div>
	    
	    <div class="clear"></div>
	    
	    <div class="ratswarp">
	      <div class="rats">7</div>
	    </div>
	    <div class="ratswarp">
	      <div class="rats">8</div>
	    </div>
	    <div class="ratswarp">
	      <div class="rats">9</div>
	    </div>
	    
	    <div class="clear"></div>
	    
	    <div class="show"></div>
		</div>
		<script src="jquery.js" type="text/javascript"></script>
		
		<script type="text/javascript">
		    var random                                     //random number
		      , t                                          //timer
		      , sel = 'seled'
		      , sho = 'shoed'
		      , n = 0
		      , rat = $('.ratswarp')                       //the rats
		      , score = function(x){
		        $('#score').text(x);
		      }
		      , shoot = function(r){                       //the selected rats
		        $(r).addClass(sel);
		      }
		      , shooted = function(r){                     //shooted the rat
		        $(r).removeClass(sel);
		        $(r).addClass(sho);
		      }
		      , restore = function(){                      //restore the rats
		        $(rat).removeClass(sho);
		        $(rat).removeClass(sel);
		        $(rat).off('click');
		      }
		      , bindsel = function(){//点击绑定
		        $('.'+sel).click(function(){
		          shooted(this);
		          n ++;
		          score(n);
		          $(this).off('click');
		        })
		      }
		      , stop = function(){                        //stop the timer
		        clearTimeout(t);
		        restore();
		      }
		      , circle = function(){//重置，随机选择
		        random = Math.floor(Math.random() * 9);
		        restore();
		        shoot($(rat).eq(random));
		        bindsel();
		      }
		      , start = function(){                        //start the game
		        if(n >= 10){                           //you got 10 points, then stop.
  		        stop();
  		      }else{
		          t = setTimeout("start()", 1000);
		          circle();
  		      }
		      };
		      
		      start();
		      
		</script>
	</body>
</html>